
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
        <link rel="canonical" href="https://pwilkin.github.io/grizabella/troubleshooting_faq/">
      
      
        <link rel="prev" href="../api/mcp_server/">
      
      
      
      <link rel="icon" href="../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.6.22">
    
    
      
        <title>Troubleshooting & FAQ - Grizabella</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.84d31ad4.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../assets/_mkdocstrings.css">
    
    <script>__md_scope=new URL("..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    <body dir="ltr">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#troubleshooting-faq" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href=".." title="Grizabella" class="md-header__button md-logo" aria-label="Grizabella" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Grizabella
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Troubleshooting & FAQ
            
          </span>
        </div>
      </div>
    </div>
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
      <div class="md-header__source">
        <a href="https://github.com/pwilkin/grizabella" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M439.6 236.1 244 40.5c-5.4-5.5-12.8-8.5-20.4-8.5s-15 3-20.4 8.4L162.5 81l51.5 51.5c27.1-9.1 52.7 16.8 43.4 43.7l49.7 49.7c34.2-11.8 61.2 31 35.5 56.7-26.5 26.5-70.2-2.9-56-37.3L240.3 199v121.9c25.3 12.5 22.3 41.8 9.1 55-6.4 6.4-15.2 10.1-24.3 10.1s-17.8-3.6-24.3-10.1c-17.6-17.6-11.1-46.9 11.2-56v-123c-20.8-8.5-24.6-30.7-18.6-45L142.6 101 8.5 235.1C3 240.6 0 247.9 0 255.5s3 15 8.5 20.4l195.6 195.7c5.4 5.4 12.7 8.4 20.4 8.4s15-3 20.4-8.4l194.7-194.7c5.4-5.4 8.4-12.8 8.4-20.4s-3-15-8.4-20.4"/></svg>
  </div>
  <div class="md-source__repository">
    pwilkin/grizabella
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href=".." title="Grizabella" class="md-nav__button md-logo" aria-label="Grizabella" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    Grizabella
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/pwilkin/grizabella" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M439.6 236.1 244 40.5c-5.4-5.5-12.8-8.5-20.4-8.5s-15 3-20.4 8.4L162.5 81l51.5 51.5c27.1-9.1 52.7 16.8 43.4 43.7l49.7 49.7c34.2-11.8 61.2 31 35.5 56.7-26.5 26.5-70.2-2.9-56-37.3L240.3 199v121.9c25.3 12.5 22.3 41.8 9.1 55-6.4 6.4-15.2 10.1-24.3 10.1s-17.8-3.6-24.3-10.1c-17.6-17.6-11.1-46.9 11.2-56v-123c-20.8-8.5-24.6-30.7-18.6-45L142.6 101 8.5 235.1C3 240.6 0 247.9 0 255.5s3 15 8.5 20.4l195.6 195.7c5.4 5.4 12.7 8.4 20.4 8.4s15-3 20.4-8.4l194.7-194.7c5.4-5.4 8.4-12.8 8.4-20.4s-3-15-8.4-20.4"/></svg>
  </div>
  <div class="md-source__repository">
    pwilkin/grizabella
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href=".." class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Home
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../installation/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Installation
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../getting_started/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Getting Started
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../core_concepts/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Core Concepts
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../python_api_detailed/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Python API Detailed Guide
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../mcp_server_api_guide/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    MCP Server API Guide
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../pyside6_ui_guide/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    PySide6 UI Guide
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_8" >
        
          
          <label class="md-nav__link" for="__nav_8" id="__nav_8_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    API Reference
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_8_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_8">
            <span class="md-nav__icon md-icon"></span>
            API Reference
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../api/core_models/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Core Models
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../api/query_models/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Query Models
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../api/client/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    API Client
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../api/mcp_server/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    MCP Server
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  
  <span class="md-ellipsis">
    Troubleshooting & FAQ
    
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  
  <span class="md-ellipsis">
    Troubleshooting & FAQ
    
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#troubleshooting" class="md-nav__link">
    <span class="md-ellipsis">
      Troubleshooting
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Troubleshooting">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#installation-issues" class="md-nav__link">
    <span class="md-ellipsis">
      Installation Issues
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#connection-issues-uiapi" class="md-nav__link">
    <span class="md-ellipsis">
      Connection Issues (UI/API)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#schema-definition-errors" class="md-nav__link">
    <span class="md-ellipsis">
      Schema Definition Errors
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#embedding-generation-failures" class="md-nav__link">
    <span class="md-ellipsis">
      Embedding Generation Failures
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#query-issues" class="md-nav__link">
    <span class="md-ellipsis">
      Query Issues
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#faq-frequently-asked-questions" class="md-nav__link">
    <span class="md-ellipsis">
      FAQ (Frequently Asked Questions)
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#connection-management-best-practices" class="md-nav__link">
    <span class="md-ellipsis">
      Connection Management Best Practices
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Connection Management Best Practices">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#resource-management" class="md-nav__link">
    <span class="md-ellipsis">
      Resource Management
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#troubleshooting" class="md-nav__link">
    <span class="md-ellipsis">
      Troubleshooting
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Troubleshooting">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#installation-issues" class="md-nav__link">
    <span class="md-ellipsis">
      Installation Issues
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#connection-issues-uiapi" class="md-nav__link">
    <span class="md-ellipsis">
      Connection Issues (UI/API)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#schema-definition-errors" class="md-nav__link">
    <span class="md-ellipsis">
      Schema Definition Errors
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#embedding-generation-failures" class="md-nav__link">
    <span class="md-ellipsis">
      Embedding Generation Failures
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#query-issues" class="md-nav__link">
    <span class="md-ellipsis">
      Query Issues
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#faq-frequently-asked-questions" class="md-nav__link">
    <span class="md-ellipsis">
      FAQ (Frequently Asked Questions)
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#connection-management-best-practices" class="md-nav__link">
    <span class="md-ellipsis">
      Connection Management Best Practices
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Connection Management Best Practices">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#resource-management" class="md-nav__link">
    <span class="md-ellipsis">
      Resource Management
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


  
  


<h1 id="troubleshooting-faq">Troubleshooting &amp; FAQ</h1>
<p>This section provides solutions to common problems and answers to frequently asked questions about Grizabella.</p>
<h2 id="troubleshooting">Troubleshooting</h2>
<h3 id="installation-issues">Installation Issues</h3>
<ul>
<li><strong>Common problems with <code>poetry install</code>:</strong></li>
<li>Ensure you have Poetry installed correctly. Refer to the official Poetry documentation.</li>
<li>Make sure your <code>pyproject.toml</code> file is not corrupted and all dependencies are resolvable.</li>
<li>Try running <code>poetry lock --no-update</code> and then <code>poetry install</code> if you suspect a lock file issue.</li>
<li>
<p>Check for network connectivity issues if packages fail to download.</p>
</li>
<li>
<p><strong>Missing Arrow C++ libraries for <code>lancedb</code>:</strong></p>
</li>
<li>Grizabella uses <code>lancedb</code>, which in turn requires Apache Arrow C++ libraries.</li>
<li>On Debian/Ubuntu, install them using: <code>sudo apt-get install -y libarrow-dev</code></li>
<li>On other systems, refer to the Apache Arrow installation guide for installing the C++ libraries.</li>
<li>
<p>Alternatively, you might be able to install a pre-built <code>pyarrow</code> wheel that includes these, but system-wide installation is often more reliable for <code>lancedb</code>.</p>
</li>
<li>
<p><strong>Python version incompatibilities:</strong></p>
</li>
<li>Grizabella is developed and tested with Python 3.9+. Using older versions might lead to unexpected errors.</li>
<li>Ensure your Poetry environment is configured to use a compatible Python version. You can specify this in your <code>pyproject.toml</code> or when creating the environment with <code>poetry env use &lt;python_version&gt;</code>.</li>
</ul>
<h3 id="connection-issues-uiapi">Connection Issues (UI/API)</h3>
<ul>
<li><strong>"Cannot connect to database" / Default database not found:</strong></li>
<li><strong>Check Path:</strong> Verify that the database path specified (or the default path <code>~/.grizabella/default_db</code>) exists and is accessible.</li>
<li><strong>Permissions:</strong> Ensure Grizabella has read/write permissions for the database directory and its files.</li>
<li><strong>Default Database:</strong> If you haven't specified a custom path, Grizabella looks for a database at <code>~/.grizabella/default_db</code>. If this is your first time running Grizabella or if this directory was removed, it might not exist. The application should create it on first valid schema definition, but if you encounter issues, ensure the parent directory <code>~/.grizabella</code> is writable.</li>
</ul>
<h3 id="schema-definition-errors">Schema Definition Errors</h3>
<ul>
<li><strong>Common mistakes when defining <code>ObjectTypeDefinition</code>, <code>EmbeddingDefinition</code>, <code>RelationTypeDefinition</code>:</strong></li>
<li><strong>Referencing non-existent types:</strong> Ensure that any <code>ObjectType</code> referenced in a <code>RelationTypeDefinition</code> (as <code>from_type</code> or <code>to_type</code>) or in an <code>EmbeddingDefinition</code> (as <code>object_type_name</code>) has already been defined.</li>
<li><strong>Incorrect property types:</strong> Property types in <code>ObjectTypeDefinition</code> must be valid Python types (e.g., <code>str</code>, <code>int</code>, <code>float</code>, <code>bool</code>, <code>list</code>, <code>dict</code>) or Pydantic models.</li>
<li><strong>Naming conventions:</strong> While not strictly errors, adhere to consistent naming for clarity.</li>
<li><strong>Embedding source fields:</strong> Ensure the <code>source_fields</code> in an <code>EmbeddingDefinition</code> exist as properties in the corresponding <code>ObjectTypeDefinition</code>.</li>
</ul>
<h3 id="embedding-generation-failures">Embedding Generation Failures</h3>
<ul>
<li><strong>SentenceTransformer model download issues:</strong></li>
<li><strong>Network:</strong> Check your internet connection. SentenceTransformer models are downloaded from Hugging Face Hub.</li>
<li><strong>Model name typo:</strong> Verify the model identifier (e.g., <code>all-MiniLM-L6-v2</code>) is correct. A typo will prevent the model from being found.</li>
<li>
<p><strong>Firewall/Proxy:</strong> If you are behind a corporate firewall or proxy, ensure it allows connections to Hugging Face.</p>
</li>
<li>
<p><strong>Dimension mismatches:</strong></p>
</li>
<li>If you are using pre-computed embeddings or a custom model, ensure the embedding dimensions match what <code>lancedb</code> expects or what your downstream tasks require. The default models have specific output dimensions.</li>
</ul>
<h3 id="query-issues">Query Issues</h3>
<ul>
<li><strong>Complex query JSON parsing errors (UI input):</strong></li>
<li>If inputting complex queries directly as JSON in the UI (if such a feature is available), ensure the JSON is well-formed. Validate it with a JSON linter.</li>
<li>
<p>Pay attention to quotes, commas, and brackets.</p>
</li>
<li>
<p><strong>No results returned:</strong></p>
</li>
<li><strong>Check filters:</strong> Ensure your query filters are not too restrictive or unintentionally excluding all data.</li>
<li><strong>Data existence:</strong> Verify that data matching your query criteria actually exists in the database.</li>
<li><strong>Embedding similarity:</strong> If performing a vector search, the query vector might not be similar enough to any stored embeddings. Try broadening the search or using a more general query.</li>
<li><strong>Case sensitivity:</strong> Some text-based filters might be case-sensitive by default.</li>
</ul>
<h2 id="faq-frequently-asked-questions">FAQ (Frequently Asked Questions)</h2>
<ul>
<li><strong>Q: How do I specify a custom database location?</strong></li>
<li>
<p>A: You can set the <code>GRIZABELLA_DB_PATH</code> environment variable to your desired directory path before launching Grizabella. Alternatively, some Grizabella components or the API client might allow specifying the path programmatically.</p>
</li>
<li>
<p><strong>Q: What embedding models are supported?</strong></p>
</li>
<li>
<p>A: By default, Grizabella is configured to use a model like <code>Colbert</code> (or a similar high-quality SentenceTransformer model). However, you can specify any SentenceTransformer model identifier from the Hugging Face Hub when defining an <code>EmbeddingDefinition</code>. Grizabella will then attempt to download and use that model.</p>
</li>
<li>
<p><strong>Q: Can I have multiple embedding definitions for the same object type?</strong></p>
</li>
<li>
<p>A: Yes. You can define multiple <code>EmbeddingDefinition</code>s for a single <code>ObjectType</code>. Each definition can use different source fields and/or a different embedding model, allowing for diverse semantic representations of your objects.</p>
</li>
<li>
<p><strong>Q: How is data consistency maintained across the three layers (SQLite, LanceDB, Kùzu)?</strong></p>
</li>
<li>
<p>A: The Grizabella API and its core <code>DBManager</code> orchestrate operations across the different database layers. When an object is created, updated, or deleted, <code>DBManager</code> ensures that corresponding changes are made in the structured data store (SQLite), the vector store (LanceDB for embeddings), and the graph store (Kùzu for relations) as needed, based on your schema definitions.</p>
</li>
<li>
<p><strong>Q: Where can I report bugs or ask for help?</strong></p>
</li>
<li>A: Please report bugs, suggest features, or ask for help by creating an issue on our GitHub repository: <a href="https://github.com/pwilkin/grizabella/issues"><code>https://github.com/pwilkin/grizabella/issues</code></a> (Note: This is a placeholder URL).</li>
</ul>
<h2 id="connection-management-best-practices">Connection Management Best Practices</h2>
<h3 id="resource-management">Resource Management</h3>
<ul>
<li><strong>Always use context managers or proper cleanup:</strong></li>
<li>
<p>When using the Python API, use the <code>with</code> statement or explicitly call cleanup methods to ensure resources are properly released:
    ```python
    from grizabella.api.client import Grizabella</p>
<h1 id="recommended-approach-using-context-manager">Recommended approach using context manager</h1>
<p>with Grizabella(db_name_or_path="my_db") as client:
    # Perform operations
    client.create_object_type(...)
    # Resources automatically cleaned up when exiting the context
```
  * For long-running applications, ensure to call cleanup methods explicitly when shutting down.</p>
</li>
<li>
<p><strong>Connection pooling:</strong></p>
</li>
<li>Grizabella implements connection pooling to efficiently manage database connections.</li>
<li>The connection pool automatically manages idle connections and cleans them up after a configurable timeout period.</li>
<li>
<p>Connection pools are shared across managers for the same database type and path.</p>
</li>
<li>
<p><strong>Singleton pattern for DB managers:</strong></p>
</li>
<li>DB managers are implemented using a singleton pattern with reference counting.</li>
<li>Multiple requests for the same database path will return the same manager instance.</li>
<li>Managers are automatically cleaned up when all references are released.</li>
</ul>
<h3 id="memory-management">Memory Management</h3>
<ul>
<li><strong>Preventing memory leaks:</strong></li>
<li>Always release DB managers when no longer needed by calling the appropriate cleanup methods.</li>
<li>The system implements automatic cleanup on process shutdown, but explicit cleanup is recommended.</li>
<li>
<p>Monitor memory usage during long-running operations to detect potential leaks early.</p>
</li>
<li>
<p><strong>Resource monitoring:</strong></p>
</li>
<li>Grizabella includes a resource monitoring dashboard accessible via the web interface for real-time monitoring of CPU, memory, connections, and threads.</li>
<li>Use the monitoring tools to track resource usage patterns and identify potential issues.</li>
</ul>
<h3 id="threading-and-concurrency">Threading and Concurrency</h3>
<ul>
<li><strong>Thread-safe operations:</strong></li>
<li>Database adapters are designed to be thread-safe, with separate connections per thread for Kùzu adapter.</li>
<li>
<p>Avoid sharing connection objects across threads directly; use the provided connection management instead.</p>
</li>
<li>
<p><strong>Concurrent access patterns:</strong></p>
</li>
<li>Multiple threads can safely access the same database through the connection pool.</li>
<li>The system handles concurrent access efficiently while maintaining data integrity.</li>
</ul>
<h3 id="connection-lifecycle">Connection Lifecycle</h3>
<ul>
<li><strong>Proper initialization:</strong></li>
<li>Always initialize the client with appropriate configuration including timeouts and retry settings.</li>
<li>
<p>Use the factory pattern to create and manage DB managers properly.</p>
</li>
<li>
<p><strong>Graceful shutdown:</strong></p>
</li>
<li>Implement proper shutdown handlers that clean up all resources.</li>
<li>The system includes signal handlers for SIGINT and SIGTERM to ensure graceful shutdown.</li>
<li>All connections and resources are automatically cleaned up during shutdown.</li>
</ul>
<h3 id="troubleshooting-connection-issues">Troubleshooting Connection Issues</h3>
<ul>
<li><strong>Connection timeouts:</strong></li>
<li>If experiencing connection timeouts, increase the timeout values in the configuration.</li>
<li>
<p>Check if the database files are accessible and not locked by another process.</p>
</li>
<li>
<p><strong>Too many open files:</strong></p>
</li>
<li>This error indicates that too many connections are being held open simultaneously.</li>
<li>Ensure that connections are being properly returned to the pool or closed after use.</li>
<li>
<p>Consider adjusting the maximum connection pool size if needed for your use case.</p>
</li>
<li>
<p><strong>Database locking issues:</strong></p>
</li>
<li>SQLite databases can experience locking issues with high concurrent write operations.</li>
<li>Consider using appropriate transaction management and connection pooling to reduce lock contention.</li>
</ul>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      <script id="__config" type="application/json">{"base": "..", "features": [], "search": "../assets/javascripts/workers/search.973d3a69.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": null}</script>
    
    
      <script src="../assets/javascripts/bundle.f55a23d4.min.js"></script>
      
    
  </body>
</html>